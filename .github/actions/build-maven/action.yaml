name: 'Maven install'
description: 'Maven install'
inputs:
  skip-tests:
    description: 'Skip tests'
    required: false
    default: 'false'
runs:
  using: "composite"
  steps:
    - name: Maven install
      shell: bash
      run: |
        mvn install \
          --settings maven-settings.xml \
          --errors \
          --batch-mode \
          --no-transfer-progress \
          -Dmaven.wagon.httpconnectionManager.ttlSeconds=120 \
          -Dmaven.wagon.http.pool=false \
          -Dhttp.keepAlive=false \
          ${{ (inputs.skip-tests == 'true' && '-DskipTests') || '-Dsurefire.rerunFailingTestsCount=2' }}
